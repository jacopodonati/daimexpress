extends layout

block content
    h1.mb-5 #{__("addpage_title")}

    .row.mb-3
        .col-6
            label(for='addFieldInput', class='form-label') #{__("search_field")}:
            input#addFieldInput.form-control(type='text', placeholder=`${__("search_placeholder")}`, onkeyup="searchField()")

    #searchResults.d-none
        ul#searchResultsList.list-group.mb-3
        button(type='button', class='btn btn-primary', data-bs-toggle='modal', data-bs-target='#addFieldModal') #{__("add_new_field")}

    form(id="addForm" action=`/add` method="post")
        hr

        hr#form-sep

        button(type="submit").btn.btn-primary.col-md-2.offset-md-10 #{__("submit_button")}
    

    .modal.fade#addFieldModal
        .modal-dialog
            .modal-content
                .modal-header
                    h5.modal-title#addFieldModalLabel Aggiungi Campo
                    button(type='button', class='btn-close', data-bs-dismiss='modal', aria-label='Close')
                .modal-body
                    #error-message.alert.alert-danger.d-none
                        | Si Ã¨ verificato un errore durante il salvataggio del campo
                    hr#error-hr.d-none
                    
                    input#localeInput(type='hidden', name='locale', value=`${locale}`)
                    label(for='fieldLabel', class='form-label') Campo:
                    input#fieldLabel.form-control(type='text', placeholder='Inserisci il campo', required)

                    hr

                    ul#addedInfoList.list-group.mb-3(style='display: none;')

                    .input-group.mb-3
                        input#infoLabel.form-control(type='text', placeholder='Inserisci l\'informazione')
                        //- select#selectType(name="type")
                        //-     option(value="text") Testo 
                        //-     option(value="number") Numero
                        //-     option(value="date") Data
                        button.btn.btn-outline-primary(type='button', onclick='addInfoField()') Aggiungi

                    div.mb-3

                .modal-footer
                    button(type='button', class='btn btn-secondary', data-bs-dismiss='modal') Annulla
                    button(type='button', class='btn btn-primary', onclick='saveField()') Salva

    script(src="/field/field.js")
